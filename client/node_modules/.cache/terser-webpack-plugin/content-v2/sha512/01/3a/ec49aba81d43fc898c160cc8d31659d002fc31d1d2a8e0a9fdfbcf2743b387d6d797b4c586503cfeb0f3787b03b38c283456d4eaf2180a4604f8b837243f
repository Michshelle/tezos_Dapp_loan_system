{"map":{"version":3,"sources":["static/js/main.5fb3753f.chunk.js"],"names":["this","push","128","module","exports","__webpack_require__","139","141","204","206","235","236","297","298","299","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","taquito_es5","taquito_tezbridge_signer_es5","src_Menu","_ref","coffeeMenu","contractInstance","userAddress","setBalance","Tezos","userPoints","setUserPoints","_useState","Object","_useState2","txStatus","setTxStatus","_useState3","undefined","_useState4","txHash","setTxHash","buyCoffee","_ref2","a","mark","_callee","coffee","price","op","newBalance","wrap","_context","prev","next","methods","buy","send","amount","mutez","sent","console","log","status","hash","Error","confirmation","includedInBlock","Infinity","tz","getBalance","t0","stop","_x","_x2","apply","arguments","redeemPointsButton","createElement","className","Fragment","map","key","name","str","toUpperCase","slice","Math","round","parseInt","Number","EPSILON","onClick","src","alt","src_App_0","addr","setContractInstance","setCoffeeMenu","_useState5","_useState6","setUserAddress","_useState7","_useState8","balance","_useState9","_useState10","_useState11","_useState12","isOwner","setIsOwner","_useState13","_useState14","contractBalance","setContractBalance","tezbridge","window","initWallet","_address","_balance","storage","points","_contractBalance","request","method","customers","get","owner","c","withdraw","_callee2","_context2","_callee3","contract","coffees","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context3","setProvider","rpc","signer","at","menu","keys","Symbol","iterator","done","value","return","finish","toNumber","_callee4","_context4","length","Boolean","location","hostname","match","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message","82"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,a){e.exports=a(299)},139:function(e,t){},141:function(e,t){},204:function(e,t){},206:function(e,t){},235:function(e,t){},236:function(e,t){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){\"use strict\";a.r(t);var n=a(1),r=a.n(n),c=a(123),s=a.n(c),o=a(12),l=a.n(o),i=a(22),u=a(13),m=a(23),d=a(127),p=function(e){var t=e.coffeeMenu,a=e.contractInstance,c=e.userAddress,s=e.setBalance,o=e.Tezos,m=e.userPoints,d=e.setUserPoints,p=Object(n.useState)(null),f=Object(u.a)(p,2),b=f[0],v=f[1],E=Object(n.useState)(void 0),h=Object(u.a)(E,2),g=h[0],w=h[1],N=function(){var e=Object(i.a)(l.a.mark((function e(t,n){var r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.methods.buy(t).send({amount:n,mutez:!0});case 3:if(r=e.sent,console.log(r),\"applied\"!==r.status){e.next=10;break}v(\"applied\"),w(r.hash),e.next=12;break;case 10:throw v(\"error\"),Error(\"Transation not applied\");case 12:return e.next=14,r.confirmation(1);case 14:if(r.includedInBlock===1/0){e.next=23;break}return v(\"included\"),e.next=18,o.tz.getBalance(c);case 18:i=e.sent,s(i),d(m+1),e.next=24;break;case 23:throw Error(\"Transation not included in block\");case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0);case 29:case\"end\":return e.stop()}}),e,null,[[0,26]])})));return function(t,a){return e.apply(this,arguments)}}();if(null===b){var k=\"\";return void 0===m?k=r.a.createElement(\"span\",null,\"No point available\"):m>=0&&m<=9?k=r.a.createElement(\"span\",null,\"Available points: \",m):10===m&&(k=r.a.createElement(\"span\",{className:\"action\"},\"Redeem Points\")),r.a.createElement(r.a.Fragment,null,r.a.createElement(\"div\",{className:\"app-subtitle\"},\"Please choose your coffee:\"),t.map((function(e){return r.a.createElement(\"div\",{className:\"card coffee_selection\",key:e.name},r.a.createElement(\"div\",{className:\"card-content\"},(a=e.name)[0].toUpperCase()+a.slice(1),\" (\\ua729 \",(t=e.price,Math.round(100*(parseInt(t)/1e6+Number.EPSILON))/100),\")\"),c&&r.a.createElement(\"div\",{className:\"card-footer\"},r.a.createElement(\"p\",{className:\"card-footer-item\"},r.a.createElement(\"span\",{className:\"action\",onClick:function(){return N(e.name,e.price)}},\"Buy\")),r.a.createElement(\"p\",{className:\"card-footer-item\"},k)));var t,a})))}return\"applied\"===b?r.a.createElement(\"div\",{className:\"message is-info\"},r.a.createElement(\"div\",{className:\"message-header\"},r.a.createElement(\"p\",null,\"Waiting for confirmation\")),r.a.createElement(\"div\",{className:\"message-body\"},r.a.createElement(\"p\",null,\"Your transaction is being processed, please wait.\"),r.a.createElement(\"p\",{className:\"coffee-loader\"},r.a.createElement(\"img\",{src:\"coffee-cup.png\",alt:\"coffee-cup\"})),r.a.createElement(\"p\",null,\"Transaction number: \",g))):\"included\"===b?r.a.createElement(\"div\",{className:\"message is-success\"},r.a.createElement(\"div\",{className:\"message-header\"},r.a.createElement(\"p\",null,\"Transaction confirmed!\")),r.a.createElement(\"div\",{className:\"message-body\"},r.a.createElement(\"p\",null,\"Enjoy your coffee!\"),r.a.createElement(\"br\",null),r.a.createElement(\"p\",null,r.a.createElement(\"button\",{className:\"button is-info\",onClick:function(){return v(null)}},\"Buy a new coffee\")))):\"error\"===b?r.a.createElement(\"div\",{className:\"message is-danger\"},r.a.createElement(\"div\",{className:\"message-header\"},r.a.createElement(\"p\",null,\"Error\")),r.a.createElement(\"div\",{className:\"message-body\"},r.a.createElement(\"p\",null,\"An error has occurred, please try again.\"))):void 0},f=(a(297),a(298),function(){var e,t,a=Object(n.useState)(void 0),c=Object(u.a)(a,2),s=c[0],o=c[1],f=Object(n.useState)([]),b=Object(u.a)(f,2),v=b[0],E=b[1],h=Object(n.useState)(void 0),g=Object(u.a)(h,2),w=g[0],N=g[1],k=Object(n.useState)(void 0),x=Object(u.a)(k,2),O=x[0],j=x[1],y=Object(n.useState)(void 0),T=Object(u.a)(y,2),B=T[0],S=T[1],I=Object(n.useState)(!1),z=Object(u.a)(I,2),P=z[0],C=z[1],A=Object(n.useState)(0),D=Object(u.a)(A,2),J=D[0],M=D[1],Q=window.tezbridge,W=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.request({method:\"get_source\"});case 3:return t=e.sent,N(t),e.next=7,m.a.tz.getBalance(t);case 7:return a=e.sent,j(a),e.next=11,s.storage();case 11:if(n=e.sent,r=n.customers.get(t),S(parseInt(r)),n.owner!==t){e.next=20;break}return C(!0),e.next=18,m.a.tz.getBalance(\"KT1Q1mAw6gbwhcJQDTifu2pTNDTs5d9wdV5o\");case 18:c=e.sent,M(c.c[0]);case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(\"error fetching the address or balance:\",e.t0);case 25:case\"end\":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(i.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.methods.withdraw([[\"unit\"]]).send();case 2:return t=e.sent,e.next=5,t.confirmation(1);case 5:if(t.includedInBlock===1/0){e.next=12;break}return e.next=8,m.a.tz.getBalance(w);case 8:a=e.sent,j(a),e.next=13;break;case 12:console.log(\"error\");case 13:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(i.a)(l.a.mark((function e(){var t,a,n,r,c,s,i,u,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m.a.setProvider({rpc:\"http://localhost:8732\",signer:new d.a}),e.next=3,m.a.contract.at(\"KT1Q1mAw6gbwhcJQDTifu2pTNDTs5d9wdV5o\");case 3:return t=e.sent,o(t),e.next=7,t.storage();case 7:for(a=e.sent,n=[],r=!0,c=!1,s=void 0,e.prev=12,i=a.menu.keys()[Symbol.iterator]();!(r=(u=i.next()).done);r=!0)p=u.value,n.push({name:p,price:a.menu.get(p).c[0]});e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),c=!0,s=e.t0;case 20:e.prev=20,e.prev=21,r||null==i.return||i.return();case 23:if(e.prev=23,!c){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:E(n);case 29:case\"end\":return e.stop()}}),e,null,[[12,16,20,28],[21,,23,27]])})))()}),[]),r.a.createElement(\"div\",{className:\"App\"},r.a.createElement(\"div\",{className:\"wallet\"},void 0===O?r.a.createElement(\"button\",{className:\"button is-info is-light is-small\",onClick:W},\"Connect your wallet\"):r.a.createElement(r.a.Fragment,null,r.a.createElement(\"span\",{className:\"balance\"},\"\\ua729 \",O.toNumber()/1e6),r.a.createElement(\"div\",{className:\"field is-grouped\"},r.a.createElement(\"p\",{className:\"control\"},r.a.createElement(\"button\",{className:\"button is-success is-light is-small\",onClick:Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(void 0),j(void 0),S(void 0),C(void 0),e.next=6,W();case 6:case\"end\":return e.stop()}}),e)})))},(t=w).slice(0,6)+\"...\"+t.slice(t.length-6))),P&&r.a.createElement(\"p\",{className:\"control\"},r.a.createElement(\"button\",{className:\"button is-warning is-light is-small\",onClick:L},\"Withdraw \\ua729 \",(e=J,Math.round(100*(parseInt(e)/1e6+Number.EPSILON))/100)))))),r.a.createElement(\"div\",{className:\"app-title\"},\"Caf\\xe9 Tezos\"),r.a.createElement(\"div\",{className:\"logo\"},r.a.createElement(\"img\",{src:\"coffee-maker.png\",alt:\"logo\"})),0===v.length?\"Loading the menu...\":r.a.createElement(p,{coffeeMenu:v,contractInstance:s,userAddress:w,setBalance:j,Tezos:m.a,userPoints:B,setUserPoints:S}))});Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(f,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,t){}},[[128,1,2]]]);","extractedComments":[]}